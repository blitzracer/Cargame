<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>BlitzRacer ‚Äì Bite-sized Racing Game</title>  

    <!-- PWA Manifest -->  
    <link rel="manifest" href="/Cargame/manifest.json">  

    <!-- Theme color for mobile browsers -->  
    <meta name="theme-color" content="#111111">  

    <!-- Favicon & Apple Icons -->  
    <link rel="icon" type="image/png" sizes="192x192" href="/Cargame/cargame192.png">  
    <link rel="apple-touch-icon" sizes="512x512" href="/Cargame/cargame512.png">  

    <!-- SEO Meta Tags -->  
    <meta name="description" content="BlitzRacer is a bite-sized online/offline racing game. Fun, fast, and downloadable for any device. Enjoy immersive racing anytime, anywhere.">  
    <meta name="keywords" content="BlitzRacer, racing game, online racing, offline racing, downloadable game, arcade racing, mobile game, web game">  
    <meta name="author" content="BlitzRacer Team">  
    <meta name="robots" content="index, follow">  
    <link rel="canonical" href="https://yourwebsite.com/Cargame/">  

    <!-- Open Graph / Facebook -->  
    <meta property="og:title" content="BlitzRacer ‚Äì Bite-sized Racing Game">  
    <meta property="og:description" content="BlitzRacer is a bite-sized online/offline racing game. Fun, fast, and downloadable for any device.">  
    <meta property="og:image" content="https://yourwebsite.com/Cargame/cargame512.png">  
    <meta property="og:url" content="https://yourwebsite.com/Cargame/">  
    <meta property="og:type" content="game">  

    <!-- Twitter Card -->  
    <meta name="twitter:card" content="summary_large_image">  
    <meta name="twitter:title" content="BlitzRacer ‚Äì Bite-sized Racing Game">  
    <meta name="twitter:description" content="BlitzRacer is a bite-sized online/offline racing game. Fun, fast, and downloadable for any device.">  
    <meta name="twitter:image" content="https://yourwebsite.com/Cargame/cargame512.png">  
    <meta name="twitter:site" content="@BlitzRacerOfficial">  

    <!-- Structured Data (JSON-LD) -->  
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "VideoGame",
      "name": "BlitzRacer",
      "url": "https://yourwebsite.com/Cargame/",
      "image": "https://yourwebsite.com/Cargame/cargame512.png",
      "description": "BlitzRacer is a bite-sized online/offline racing game. Fun, fast, and downloadable for any device.",
      "author": {
        "@type": "Organization",
        "name": "BlitzRacer Team"
      },
      "applicationCategory": "Game",
      "operatingSystem": "Android, iOS, Web",
      "genre": "Racing, Arcade",
      "offers": {
        "@type": "Offer",
        "url": "https://yourwebsite.com/Cargame/",
        "price": "0",
        "priceCurrency": "INR"
      }
    }
    </script>

    <!-- Stylesheet -->  
    <link rel="stylesheet" href="/Cargame/style.css">  

    <!-- Tone.js Library -->  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js" crossorigin="anonymous"></script>

    <!-- Install Popup Styles -->
    <style>
    .install-popup {
      position: fixed;
      top: -120px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #28a745, #00ff55);
      color: #fff;
      padding: 18px 26px;
      border-radius: 12px;
      box-shadow: 0 4px 14px rgba(0,0,0,0.35);
      display: flex;
      align-items: center;
      justify-content: space-between;
      min-width: 260px;
      font-family: sans-serif;
      font-size: 16px;
      font-weight: bold;
      text-decoration: none;
      z-index: 9999;
      cursor: pointer;
      opacity: 0;
      transition: top 0.5s ease, opacity 0.5s ease, transform 0.5s ease;
    }

    .install-popup.show {
      top: 20px;
      opacity: 1;
      animation: bounceDown 0.6s;
    }

    .install-popup button {
      background: none;
      border: none;
      color: #fff;
      font-size: 36px;
      cursor: pointer;
      margin-left: 12px;
    }

    @keyframes bounceDown {
      0% { top: -120px; }
      60% { top: 30px; }
      80% { top: 15px; }
      100% { top: 20px; }
    }
    </style>

</head>
<body>
    <!-- Background Music -->
    <audio id="bg-music" src="/Cargame/cargamebg.mp3" autoplay loop muted></audio>

    <!-- Scores -->
    <div id="high-score" class="score-display">High Score: 0</div>
    <div id="score" class="score-display">Score: 0</div>

    <!-- Game Container -->
    <div class="game-container" id="gameContainer">
        <canvas id="racing-canvas" width="320" height="600"></canvas>

        <!-- Intro Overlay -->
        <div id="introOverlay" class="overlay">
            <h1>BlitzRacer</h1>
            <p>Use your mouse or touch to steer!</p>
            <button id="playButton" class="control-btn fade-in" style="opacity: 1;">Start Game</button>
        </div>

        <!-- Controls -->
        <button id="musicToggle" class="control-btn music-btn off">üîá</button>
        <button id="nitroBtn" class="booster-btn" disabled>
            <div id="nitroFill" class="fill-bar"></div>
            <span>NITRO</span>
        </button>

        <!-- Shield Display -->
        <div id="shieldDisplay" style="display: none;">
            <span>üõ°Ô∏è</span>
            <span id="shieldTime"></span>
        </div>
    </div>

    <!-- Music Modal -->
    <div id="musicModal">
        <div class="modal-content">
            <p>For more enjoyment, please turn on the bg music button.</p>
            <div class="modal-btns">
                <button class="modal-btn yes">Yes</button>
                <button class="modal-btn cancel">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Game Script -->
    <script src="/Cargame/script.js"></script>

    <!-- Install Popup HTML -->
    <a id="installPopup" class="install-popup" href="https://blitzracer.github.io/Cargameapk/" target="_blank">
      <span>Install BlitzRacer</span>
      <button id="closeBtn">&times;</button>
    </a>

    <!-- Install Popup Script -->
    <script>
    document.addEventListener("DOMContentLoaded", function() {
      const popup = document.getElementById('installPopup');
      const link = "https://blitzracer.github.io/Cargameapk/";

      if (!localStorage.getItem('installPopupShown')) {
        localStorage.setItem('installPopupShown', 'true');
        popup.classList.add('show');

        // Auto-hide after 5s
        const autoHide = setTimeout(hidePopup, 5000);

        // Close button
        document.getElementById('closeBtn').onclick = (e) => {
          e.stopPropagation();
          clearTimeout(autoHide);
          hidePopup();
        };

        // Click anywhere opens link
        popup.addEventListener('click', () => {
          window.open(link, "_blank");
        });

        // Swipe to dismiss
        let startX = 0;
        popup.addEventListener('touchstart', e => startX = e.touches[0].clientX);
        popup.addEventListener('touchmove', e => {
          let moveX = e.touches[0].clientX;
          if (moveX - startX > 50) {
            clearTimeout(autoHide);
            hidePopup();
          }
        });
      }

      function hidePopup() {
        popup.style.top = '-150px';
        popup.style.opacity = '0';
        popup.style.transform = 'translateX(-50%)';
        setTimeout(() => popup.remove(), 500);
      }
    });
    </script>
</body>
</html>